<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>Myna.Permissions - Myna Application Server</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script><script type="text/javascript" src="../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../js/shjs/css/sh_mild_white.css"><script type="text/javascript" src="../../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../../js/shjs/css/sh_mild_white.css"></head><body id=ContentPage onLoad="NDOnLoad();sh_highlightDocument();"><script language=JavaScript><!--
if (browserType) {document.write("<div id=" + browserType + ">");if (browserVer) {document.write("<div id=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 02-10-2007 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass CTopic" id=MainTopic><h1 class=CTitle><a name="Myna.Permissions"></a>Myna.<span class=HB> </span>Permissions</h1><div class=CBody><p class=CParagraph>A static class that provides access to the Myna Permissions System</p><h4 class=CHeading>Overview</h4><p class=CParagraph>The functions and classes in this library combined with the web application located at MynaRoot/myna/permissions/index.ejs form Myna&rsquo;s permissions system.&nbsp; The purpose of the permissions system is to provide a standardized and centralized system for managing users and their rights in your applications.</p><h4 class=CHeading>First, some standard concepts</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>User</td><td class=CDLDescription>A &ldquo;user&rdquo; is a unique entity such as a human or software service that has certain rights to perform actions in your system.&nbsp; A user can have one or more &ldquo;logins&rdquo;.&nbsp; Users are a global resource and are not associated with any particular application.</td></tr><tr><td class=CDLEntry>Login</td><td class=CDLDescription>A &ldquo;login&rdquo; is a unique identifier with an authentication authority, such as a local database, a Microsoft Active Directory, LDAP, or Open ID.&nbsp; Myna knows how to authenticate against its own local database in myna_permissions.&nbsp; To use this functionality, save a user name and password, and set the type to &ldquo;local&rdquo;.&nbsp; You can then compare a plain text password to the stored password via <a href="#Myna.Permissions.User.isCorrectPassword" class=LFunction id=link28 onMouseOver="ShowTip(event, 'tt22', 'link28')" onMouseOut="HideTip('tt22')">User.isCorrectPassword</a>.</td></tr><tr><td class=CDLEntry>Right</td><td class=CDLDescription>A right is essentially just a name associated with an application (appname).&nbsp; Rights only have meaning when an application checks for them and grants or restricts access based on them.&nbsp; The easiest way to do this is to call <a href="#Myna.Permissions.User.hasRight" class=LFunction id=link29 onMouseOver="ShowTip(event, 'tt18', 'link29')" onMouseOut="HideTip('tt18')">User.hasRight</a> to check if the logged-in user has a particular right.&nbsp; Myna has some built-in support for the right &ldquo;edit_permissions&rdquo; in any application.&nbsp; A user with &ldquo;edit_permissions&rdquo; for an application is allowed to edit the permissions for that application in MynaRoot/myna/permissions/index.ejs.&nbsp; The Myna Adminstrator can edit permissions for any application, so it is possible to create a user account and assign edit_permissions to it and then let that user handle any further changes for his or her application</td></tr><tr><td class=CDLEntry>User Group</td><td class=CDLDescription>User groups are where users and rights meet.&nbsp; Like rights, user groups are associated with an application (appname).&nbsp; User groups are intended to represent a role, such as &ldquo;Adminstrators&rdquo; or &ldquo;HR Staff&rdquo;.</td></tr></table><h4 class=CHeading>Here is the basic process for authentication and authorization</h4><h4 class=CHeading>1) Determine authentication method</h4><p class=CParagraph>in this step your application needs to know how to authenticate a user.&nbsp; This can be internal Myna authentication via <a href="#Myna.Permissions.User.isCorrectPassword" class=LFunction id=link30 onMouseOver="ShowTip(event, 'tt22', 'link30')" onMouseOut="HideTip('tt22')">User.isCorrectPassword</a>, or an external authentication mechanism such as LDAP or your HR database.&nbsp; Some organizations have multiple ways of authenticating and allow the user to choose which to use.</p><h4 class=CHeading>2)  Set UserID</h4><p class=CParagraph>After authentication, look up user&rsquo;s user_id from his/her login and type (<a href="#Myna.Permissions.getUserByLogin" class=LFunction id=link31 onMouseOver="ShowTip(event, 'tt13', 'link31')" onMouseOut="HideTip('tt13')">Myna.Permissions.getUserByLogin</a>) and call <a href="standard_objects/cookie-sjs.html#$cookie.setAuthUserId" class=LFunction id=link32 onMouseOver="ShowTip(event, 'tt28', 'link32')" onMouseOut="HideTip('tt28')">$cookie.setAuthUserId</a>.&nbsp; This sets a cookie with the user&rsquo;s id and refreshes that cookie  everytime the user makes a request.&nbsp; This cookie is encrypted with the result of <a href="#Myna.Permissions.getAuthKey" class=LFunction id=link33 onMouseOver="ShowTip(event, 'tt8', 'link33')" onMouseOut="HideTip('tt8')">getAuthKey</a> (&ldquo;myna_auth_cookie&rdquo;).&nbsp; There is no timeout for this cookie, but it will automatically expire when the user closes the browser.&nbsp; If you want the authentication token to have a timeout, store the user_id in the session instead.</p><h4 class=CHeading>3) Check Authentication</h4><p class=CParagraph>You can confirm that a user has been authenticated by checking <a href="standard_objects/cookie-sjs.html#$cookie.getAuthUserId" class=LFunction id=link34 onMouseOver="ShowTip(event, 'tt29', 'link34')" onMouseOut="HideTip('tt29')">$cookie.getAuthUserId</a> which will return null if the current user is not authenticated.&nbsp; Placing this check in your <a href="standard_objects/app-sjs.html#$application.onRequestStart" class=LFunction id=link35 onMouseOver="ShowTip(event, 'tt30', 'link35')" onMouseOut="HideTip('tt30')">$application.onRequestStart</a> function is an easy way to prevent unauthenticated access.</p><h4 class=CHeading>4) Check Authorization</h4><p class=CParagraph>To see if the current user has the right to &ldquo;foo&rdquo;, call <a href="#Myna.Permissions.User.hasRight" class=LFunction id=link36 onMouseOver="ShowTip(event, 'tt18', 'link36')" onMouseOut="HideTip('tt18')">User.hasRight</a> (&ldquo;foo&rdquo;).&nbsp; You can use the Myna Administrator to define as a many rights as your application needs</p><h4 class=CHeading>5) Log-out the user</h4><p class=CParagraph>To logout, simply call <a href="standard_objects/cookie-sjs.html#$cookie.clearAuthUserId" class=LFunction id=link37 onMouseOver="ShowTip(event, 'tt31', 'link37')" onMouseOut="HideTip('tt31')">$cookie.clearAuthUserId</a> and/or <a href="standard_objects/session-sjs.html#$session.clear" class=LFunction id=link38 onMouseOver="ShowTip(event, 'tt32', 'link38')" onMouseOut="HideTip('tt32')">$session.clear</a></p><h4 class=CHeading>Using the Myna Permissions application</h4><p class=CParagraph>The Myna Permissions application is primarily designed to be accessed through the Myna Administrator and used to set up users, logins, rights, and groups.&nbsp; It can also be used in a simplified form for a particular application, in which case it is limited to just group management.&nbsp; In this mode your application can connect to the Myna Permissions application via IFRAME element or window.open() by passing an authentication token generated by <a href="#Myna.Permissions.getAuthToken" class=LFunction id=link39 onMouseOver="ShowTip(event, 'tt9', 'link39')" onMouseOut="HideTip('tt9')">Myna.Permissions.getAuthToken</a>, like this:</p><blockquote><pre class="CCode sh_myna">&lt;!-- index.ejs --&gt;<br>&lt;a href=&quot;perms.ejs&quot; target=&quot;perm_window&quot;&gt;Edit Foo Permissions&lt;/a&gt;<br>...<br>// perms.ejs<br>var token =Myna.Permissions.getAuthToken($cookie.getAuthUserId());<br>var url = $server.rootUrl + &quot;myna/permissions/index.ejs?appname=foo&amp;auth_token=&quot; + token;<br>$res.metaRedirect(url);</pre></blockquote><p class=CParagraph>As an aside, you can use the <a href="#Myna.Permissions.getAuthToken" class=LFunction id=link40 onMouseOver="ShowTip(event, 'tt9', 'link40')" onMouseOut="HideTip('tt9')">getAuthToken</a> / <a href="#Myna.Permissions.consumeAuthToken" class=LFunction id=link41 onMouseOver="ShowTip(event, 'tt7', 'link41')" onMouseOut="HideTip('tt7')">consumeAuthToken</a> functions to transfer authentication between any two Myna applications, even if they are on different servers, as long as they both use the same &ldquo;myna_permissions&rdquo; datasource.&nbsp; For example, <a href="WebService-sjs.html#Myna.WebService" class=LClass id=link42 onMouseOver="ShowTip(event, 'tt33', 'link42')" onMouseOut="HideTip('tt33')">Myna.WebService</a> instances check $req.auth_token in addition to the HTTP Basic Auth header, and $cookie.get(&ldquo;myna_auth_cookie&rdquo;) for authentication</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Myna.Permissions" >Myna.<span class=HB> </span>Permissions</a></td><td class=SDescription>A static class that provides access to the Myna Permissions System</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Myna.Permissions.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.addRight" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">addRight</a></td><td class=SDescription>adds a new right, and returns an instance of &lt;Myna.Right&gt;</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.deleteRight" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">deleteRight</a></td><td class=SDescription>deletes a right</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.addUserGroup" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">addUserGroup</a></td><td class=SDescription>adds a new user group, and returns an instance of &lt;Myna.UserGroup&gt;</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.deleteUserGroup" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">deleteUserGroup</a></td><td class=SDescription>removes a user group</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.addUser" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">addUser</a></td><td class=SDescription>adds a new user, and returns an instance of <a href="#Myna.Permissions.User" class=LClass id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">Myna.Permissions.User</a></td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.consumeAuthToken" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">consumeAuthToken</a></td><td class=SDescription>returns associated user_id or null if invalid</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.getAuthKey" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">getAuthKey</a></td><td class=SDescription>retrieves a unique authKey from the crypt_keys table for the supplied name, or creates one if the name does not exist.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.getAuthToken" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">getAuthToken</a></td><td class=SDescription>creates stores and return a one-use authentication token for the supplied user_id</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.getUserById" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">getUserById</a></td><td class=SDescription>returns the User object that matches the supplied id or null</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.getRightById" id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">getRightById</a></td><td class=SDescription>returns the right object that matches the supplied id or null</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.getUserGroupById" id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">getUserGroupById</a></td><td class=SDescription>returns the user group object that matches the supplied id or null</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.getUserByLogin" id=link13 onMouseOver="ShowTip(event, 'tt13', 'link13')" onMouseOut="HideTip('tt13')">getUserByLogin</a></td><td class=SDescription>returns the User object that matches the supplied login or null</td></tr><tr class="SClass"><td class=SEntry><a href="#Myna.Permissions.User" >Myna.<span class=HB> </span>Permissions.User</a></td><td class=SDescription>Provides access to user specific permissions. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.get_created" >get_created</a></td><td class=SDescription>returns created</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.get_first_name" >get_first_name</a></td><td class=SDescription>returns first_name</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.get_last_login" >get_last_login</a></td><td class=SDescription>returns last_login</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.get_last_name" >get_last_name</a></td><td class=SDescription>returns last_name</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.get_middle_name" >get_middle_name</a></td><td class=SDescription>returns middle_name</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.get_title" >get_title</a></td><td class=SDescription>returns title</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.get_user_id" >get_user_id</a></td><td class=SDescription>returns user_id</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.set_created" >set_created</a></td><td class=SDescription>sets created</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.set_first_name" >set_first_name</a></td><td class=SDescription>sets first_name</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.set_last_login" >set_last_login</a></td><td class=SDescription>sets last_login</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.set_last_name" >set_last_name</a></td><td class=SDescription>sets last_name</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.set_middle_name" >set_middle_name</a></td><td class=SDescription>sets middle_name</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.set_title" >set_title</a></td><td class=SDescription>sets title</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.qryRights" id=link14 onMouseOver="ShowTip(event, 'tt14', 'link14')" onMouseOut="HideTip('tt14')">qryRights</a></td><td class=SDescription>returns query of rights associated with this group</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.inactivate" id=link15 onMouseOver="ShowTip(event, 'tt15', 'link15')" onMouseOut="HideTip('tt15')">inactivate</a></td><td class=SDescription>inactivates this user. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.isActive" id=link16 onMouseOver="ShowTip(event, 'tt16', 'link16')" onMouseOut="HideTip('tt16')">isActive</a></td><td class=SDescription>returns true if this user is active</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.reactivate" id=link17 onMouseOver="ShowTip(event, 'tt17', 'link17')" onMouseOut="HideTip('tt17')">reactivate</a></td><td class=SDescription>reactivates this user</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.hasRight" id=link18 onMouseOver="ShowTip(event, 'tt18', 'link18')" onMouseOut="HideTip('tt18')">hasRight</a></td><td class=SDescription>returns true if this user has been assigned the supplied appname and right name</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.getLogins" id=link19 onMouseOver="ShowTip(event, 'tt19', 'link19')" onMouseOut="HideTip('tt19')">getLogins</a></td><td class=SDescription>returns an array of objects in the form of [{type,login}] of the logins associated with this user</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.getLoginList" id=link20 onMouseOver="ShowTip(event, 'tt20', 'link20')" onMouseOut="HideTip('tt20')">getLoginList</a></td><td class=SDescription>returns a list of type/login pairs in the form of &ldquo;type:login,type:login&rdquo; of the logins associated with this user</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.setLogin" id=link21 onMouseOver="ShowTip(event, 'tt21', 'link21')" onMouseOut="HideTip('tt21')">setLogin</a></td><td class=SDescription>adds or updates an login for this user</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.User.isCorrectPassword" id=link22 onMouseOver="ShowTip(event, 'tt22', 'link22')" onMouseOut="HideTip('tt22')">isCorrectPassword</a></td><td class=SDescription>returns true if the supplied user login and plaintext password match the stored password hash. </td></tr><tr class="SClass"><td class=SEntry><a href="#Myna.Permissions.Right" >Myna.<span class=HB> </span>Permissions.<span class=HB> </span>Right</a></td><td class=SDescription>Provides access to Right specific actions. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Myna.Permissions.Right.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.Right.get_appname" >get_appname</a></td><td class=SDescription>returns appname</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.Right.get_description" >get_description</a></td><td class=SDescription>returns description</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.Right.get_name" >get_name</a></td><td class=SDescription>returns name</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.Right.get_right_id" >get_right_id</a></td><td class=SDescription>returns right_id</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.Right.set_appname" >set_appname</a></td><td class=SDescription>sets appname</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.Right.set_description" >set_description</a></td><td class=SDescription>sets description</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.Right.set_name" >set_name</a></td><td class=SDescription>sets name</td></tr><tr class="SClass"><td class=SEntry><a href="#Myna.Permissions.UserGroup" >Myna.<span class=HB> </span>Permissions.<span class=HB> </span>UserGroup</a></td><td class=SDescription>Provides access to user group specific actions. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Myna.Permissions.UserGroup.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.get_appname" >get_appname</a></td><td class=SDescription>returns appname</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.UserGroup.get_description" >get_description</a></td><td class=SDescription>returns description</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.get_name" >get_name</a></td><td class=SDescription>returns name</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.UserGroup.get_user_group_id" >get_user_group_id</a></td><td class=SDescription>returns user_group_id</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.set_appname" >set_appname</a></td><td class=SDescription>sets appname</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.UserGroup.set_description" >set_description</a></td><td class=SDescription>sets description</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.set_name" >set_name</a></td><td class=SDescription>sets name</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.UserGroup.addUsers" id=link23 onMouseOver="ShowTip(event, 'tt23', 'link23')" onMouseOut="HideTip('tt23')">addUsers</a></td><td class=SDescription>adds one or more users to this group, if not already added</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.addRights" id=link24 onMouseOver="ShowTip(event, 'tt24', 'link24')" onMouseOut="HideTip('tt24')">addRights</a></td><td class=SDescription>adds one or more rights to this group, if not already added</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.UserGroup.qryRights" id=link25 onMouseOver="ShowTip(event, 'tt25', 'link25')" onMouseOut="HideTip('tt25')">qryRights</a></td><td class=SDescription>returns query of rights associated with this group</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.removeRights" >removeRights</a></td><td class=SDescription>removes one or more rights from this group, if not already removed</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Permissions.UserGroup.removeUsers" id=link26 onMouseOver="ShowTip(event, 'tt26', 'link26')" onMouseOut="HideTip('tt26')">removeUsers</a></td><td class=SDescription>removes one or more users from this group, if not already removed</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.qryUsers" id=link27 onMouseOver="ShowTip(event, 'tt27', 'link27')" onMouseOut="HideTip('tt27')">qryUsers</a></td><td class=SDescription>returns a query of user information associated with this group</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="Myna.Permissions.Functions"></a>Functions</h3></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.addRight"></a>addRight</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>addRight:function(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>adds a new right, and returns an instance of &lt;Myna.Right&gt;</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>options</td><td class=CDLDescription>An object containing the new right&rsquo;s information.&nbsp; See &ldquo;options&rdquo; below</td></tr></table><h4 class=CHeading>Options</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>Name of the right.&nbsp; Should be a single word.</td></tr><tr><td class=CDLEntry>appname</td><td class=CDLDescription>appname of application associated with this right</td></tr><tr><td class=CDLEntry>description</td><td class=CDLDescription><b>Optional, default &ldquo;&rdquo;</b> A description of the ability this right confers</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.deleteRight"></a>deleteRight</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>deleteRight:function(</td><td class=PParameter nowrap>right_id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>deletes a right</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>right_id</td><td class=CDLDescription>id of right to delete</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.addUserGroup"></a>addUserGroup</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>addUserGroup:function(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>adds a new user group, and returns an instance of &lt;Myna.UserGroup&gt;</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>options</td><td class=CDLDescription>An object containing the new user group&rsquo;s information.&nbsp; See &ldquo;options&rdquo; below</td></tr></table><h4 class=CHeading>Options</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>Name of the user group.&nbsp; Can be any string, but should be short</td></tr><tr><td class=CDLEntry>appname</td><td class=CDLDescription>appname of application associated with this right</td></tr><tr><td class=CDLEntry>description</td><td class=CDLDescription><b>Optional, default &ldquo;&rdquo;</b> A description of types of users that should be associated with this group</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.deleteUserGroup"></a>deleteUserGroup</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>deleteUserGroup:function(</td><td class=PParameter nowrap>user_group_id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>removes a user group</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>user_group_id</td><td class=CDLDescription>id of group to delete</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.addUser"></a>addUser</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>addUser:function(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>adds a new user, and returns an instance of <a href="#Myna.Permissions.User" class=LClass id=link43 onMouseOver="ShowTip(event, 'tt6', 'link43')" onMouseOut="HideTip('tt6')">Myna.Permissions.User</a></p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>options</td><td class=CDLDescription>An object containing the new user&rsquo;s information.&nbsp; See &ldquo;options&rdquo; below</td></tr></table><h4 class=CHeading>Options</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>first_name</td><td class=CDLDescription><b>Optional, default &ldquo;&rdquo;</b> User&rsquo;s first name</td></tr><tr><td class=CDLEntry>middle_name</td><td class=CDLDescription><b>Optional, default &ldquo;&rdquo;</b> User&rsquo;s middle name</td></tr><tr><td class=CDLEntry>last_name</td><td class=CDLDescription><b>Optional, default &ldquo;&rdquo;</b> User&rsquo;s last name</td></tr><tr><td class=CDLEntry>title</td><td class=CDLDescription><b>Optional, default &ldquo;&rdquo;</b> User&rsquo;s title, e.g.&nbsp; Mr, Mrs, Sir, Dr</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.consumeAuthToken"></a>consumeAuthToken</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>consumeAuthToken:function(</td><td class=PParameter nowrap>token</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>returns associated user_id or null if invalid</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>token</td><td class=CDLDescription>user_id of the user to be authenticated</td></tr></table><h4 class=CHeading>Note</h4><p class=CParagraph>Consuming a token permenantly removes it.</p><p class=CParagraph>See <a href="#Myna.Permissions.getAuthToken" class=LFunction id=link44 onMouseOver="ShowTip(event, 'tt9', 'link44')" onMouseOut="HideTip('tt9')">getAuthToken</a></p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.getAuthKey"></a>getAuthKey</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getAuthKey:function(</td><td class=PParameter nowrap>name</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>retrieves a unique authKey from the crypt_keys table for the supplied name, or creates one if the name does not exist.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>name of key to retrieve</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.getAuthToken"></a>getAuthToken</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getAuthToken:function(</td><td class=PParameter nowrap>user_id,</td></tr><tr><td></td><td class=PParameter nowrap>timeout</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>creates stores and return a one-use authentication token for the supplied user_id</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>user_id</td><td class=CDLDescription>user_id of the user to be authenticated</td></tr></table><h4 class=CHeading>Detail</h4><p class=CParagraph>This function is intended to be used in conjunction with <a href="#Myna.Permissions.consumeAuthToken" class=LFunction id=link45 onMouseOver="ShowTip(event, 'tt7', 'link45')" onMouseOut="HideTip('tt7')">consumeAuthToken</a> to allow an application to &ldquo;pre-authenticate&rdquo; a user to another application.&nbsp; This requires the source application to acquire an authentication token representing a user_id, and then send this to the target application, normally via a URL or FORM variable called &ldquo;auth_token&rdquo;.&nbsp; The receiving application must call <a href="#Myna.Permissions.consumeAuthToken" class=LFunction id=link46 onMouseOver="ShowTip(event, 'tt7', 'link46')" onMouseOut="HideTip('tt7')">consumeAuthToken</a> extract the user_id from then token which destroys it.</p><p class=CParagraph>Authentication tokens are stored in the &ldquo;myna_permissions&rdquo; data source, so both sending and receiving applications must use the same database for &ldquo;myna_permissions&rdquo;.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.getUserById"></a>getUserById</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getUserById:function(</td><td class=PParameter nowrap>id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>returns the User object that matches the supplied id or null</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>id</td><td class=CDLDescription>user id to search</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.getRightById"></a>getRightById</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getRightById:function(</td><td class=PParameter nowrap>id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>returns the right object that matches the supplied id or null</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>id</td><td class=CDLDescription>right id to search</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.getUserGroupById"></a>getUserGroupById</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getUserGroupById:function(</td><td class=PParameter nowrap>id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>returns the user group object that matches the supplied id or null</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>id</td><td class=CDLDescription>user group id to search</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.getUserByLogin"></a>getUserByLogin</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getUserByLogin:function(</td><td class=PParameter nowrap>type,</td></tr><tr><td></td><td class=PParameter nowrap>login</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>returns the User object that matches the supplied login or null</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>type</td><td class=CDLDescription>login type</td></tr><tr><td class=CDLEntry>login</td><td class=CDLDescription>login</td></tr></table></div></div>

<div class="CClass CTopic"><h2 class=CTitle><a name="Myna.Permissions.User"></a>Myna.<span class=HB> </span>Permissions.User</h2><div class=CBody><p class=CParagraph>Provides access to user specific permissions. see <a href="#Myna.Permissions" class=LClass id=link56 onMouseOver="ShowTip(event, 'tt34', 'link56')" onMouseOut="HideTip('tt34')">Myna.Permissions</a> for creation</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Myna.Permissions.User.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.get_created" >get_created</a></td><td class=SDescription>returns created</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.get_first_name" >get_first_name</a></td><td class=SDescription>returns first_name</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.get_last_login" >get_last_login</a></td><td class=SDescription>returns last_login</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.get_last_name" >get_last_name</a></td><td class=SDescription>returns last_name</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.get_middle_name" >get_middle_name</a></td><td class=SDescription>returns middle_name</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.get_title" >get_title</a></td><td class=SDescription>returns title</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.get_user_id" >get_user_id</a></td><td class=SDescription>returns user_id</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.set_created" >set_created</a></td><td class=SDescription>sets created</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.set_first_name" >set_first_name</a></td><td class=SDescription>sets first_name</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.set_last_login" >set_last_login</a></td><td class=SDescription>sets last_login</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.set_last_name" >set_last_name</a></td><td class=SDescription>sets last_name</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.set_middle_name" >set_middle_name</a></td><td class=SDescription>sets middle_name</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.set_title" >set_title</a></td><td class=SDescription>sets title</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.qryRights" id=link47 onMouseOver="ShowTip(event, 'tt14', 'link47')" onMouseOut="HideTip('tt14')">qryRights</a></td><td class=SDescription>returns query of rights associated with this group</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.inactivate" id=link48 onMouseOver="ShowTip(event, 'tt15', 'link48')" onMouseOut="HideTip('tt15')">inactivate</a></td><td class=SDescription>inactivates this user. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.isActive" id=link49 onMouseOver="ShowTip(event, 'tt16', 'link49')" onMouseOut="HideTip('tt16')">isActive</a></td><td class=SDescription>returns true if this user is active</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.reactivate" id=link50 onMouseOver="ShowTip(event, 'tt17', 'link50')" onMouseOut="HideTip('tt17')">reactivate</a></td><td class=SDescription>reactivates this user</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.hasRight" id=link51 onMouseOver="ShowTip(event, 'tt18', 'link51')" onMouseOut="HideTip('tt18')">hasRight</a></td><td class=SDescription>returns true if this user has been assigned the supplied appname and right name</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.getLogins" id=link52 onMouseOver="ShowTip(event, 'tt19', 'link52')" onMouseOut="HideTip('tt19')">getLogins</a></td><td class=SDescription>returns an array of objects in the form of [{type,login}] of the logins associated with this user</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.getLoginList" id=link53 onMouseOver="ShowTip(event, 'tt20', 'link53')" onMouseOut="HideTip('tt20')">getLoginList</a></td><td class=SDescription>returns a list of type/login pairs in the form of &ldquo;type:login,type:login&rdquo; of the logins associated with this user</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.User.setLogin" id=link54 onMouseOver="ShowTip(event, 'tt21', 'link54')" onMouseOut="HideTip('tt21')">setLogin</a></td><td class=SDescription>adds or updates an login for this user</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.User.isCorrectPassword" id=link55 onMouseOver="ShowTip(event, 'tt22', 'link55')" onMouseOut="HideTip('tt22')">isCorrectPassword</a></td><td class=SDescription>returns true if the supplied user login and plaintext password match the stored password hash. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.Functions"></a>Functions</h3></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.get_created"></a>get_created</h3><div class=CBody><p class=CParagraph>returns created</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.get_first_name"></a>get_first_name</h3><div class=CBody><p class=CParagraph>returns first_name</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.get_last_login"></a>get_last_login</h3><div class=CBody><p class=CParagraph>returns last_login</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.get_last_name"></a>get_last_name</h3><div class=CBody><p class=CParagraph>returns last_name</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.get_middle_name"></a>get_middle_name</h3><div class=CBody><p class=CParagraph>returns middle_name</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.get_title"></a>get_title</h3><div class=CBody><p class=CParagraph>returns title</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.get_user_id"></a>get_user_id</h3><div class=CBody><p class=CParagraph>returns user_id</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.set_created"></a>set_created</h3><div class=CBody><p class=CParagraph>sets created</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.set_first_name"></a>set_first_name</h3><div class=CBody><p class=CParagraph>sets first_name</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.set_last_login"></a>set_last_login</h3><div class=CBody><p class=CParagraph>sets last_login</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.set_last_name"></a>set_last_name</h3><div class=CBody><p class=CParagraph>sets last_name</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.set_middle_name"></a>set_middle_name</h3><div class=CBody><p class=CParagraph>sets middle_name</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.set_title"></a>set_title</h3><div class=CBody><p class=CParagraph>sets title</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.qryRights"></a>qryRights</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.User.prototype.qryRights = function()</td></tr></table></blockquote><p class=CParagraph>returns query of rights associated with this group</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.inactivate"></a>inactivate</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.User.prototype.inactivate = function()</td></tr></table></blockquote><p class=CParagraph>inactivates this user.&nbsp; Inactivating a user also removes the user from all user groups and causes isCorrectPassword to fail even if the password is correct</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.isActive"></a>isActive</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.User.prototype.isActive = function()</td></tr></table></blockquote><p class=CParagraph>returns true if this user is active</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.reactivate"></a>reactivate</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.User.prototype.reactivate = function()</td></tr></table></blockquote><p class=CParagraph>reactivates this user</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.hasRight"></a>hasRight</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.User.prototype.hasRight = function(</td><td class=PParameter nowrap>appname,</td></tr><tr><td></td><td class=PParameter nowrap>rightName</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>returns true if this user has been assigned the supplied appname and right name</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.getLogins"></a>getLogins</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.User.prototype.getLogins = function()</td></tr></table></blockquote><p class=CParagraph>returns an array of objects in the form of [{type,login}] of the logins associated with this user</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.getLoginList"></a>getLoginList</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.User.prototype.getLoginList = function(</td><td class=PParameter nowrap>delimiter,</td></tr><tr><td></td><td class=PParameter nowrap>seperator</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>returns a list of type/login pairs in the form of &ldquo;type:login,type:login&rdquo; of the logins associated with this user</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>delimiter</td><td class=CDLDescription><b>Optional, default &lsquo;,&rsquo;</b> seperator between each type/login set</td></tr><tr><td class=CDLEntry>seperator</td><td class=CDLDescription><b>Optional, default &lsquo;:&rsquo;</b> seperator between each type and login in each login set</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.setLogin"></a>setLogin</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.User.prototype.setLogin = function(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>adds or updates an login for this user</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>options</td><td class=CDLDescription>Anobject that conains the options for this login. see below</td></tr></table><h4 class=CHeading>Options</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>type</td><td class=CDLDescription>type of login.&nbsp; This is a hint for how to authenticate using this login.&nbsp; Suggested values: myna (for local password access), ldap, openid</td></tr><tr><td class=CDLEntry>login</td><td class=CDLDescription>the appropriate type of identifier,</td></tr><tr><td class=CDLEntry>password</td><td class=CDLDescription><b>optional default &ldquo;&rdquo;</b> a plain text password to encrypt with this login</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.User.isCorrectPassword"></a>isCorrectPassword</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.User.prototype.isCorrectPassword=function(</td><td class=PParameter nowrap>login,</td></tr><tr><td></td><td class=PParameter nowrap>password</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>returns true if the supplied user login and plaintext password match the stored password hash.&nbsp; Only works for &ldquo;local&rdquo; login types.&nbsp; Will always return false for inactive users</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>login</td><td class=CDLDescription>user login</td></tr><tr><td class=CDLEntry>password</td><td class=CDLDescription>a plain text password for comparison</td></tr></table></div></div>

<div class="CClass CTopic"><h2 class=CTitle><a name="Myna.Permissions.Right"></a>Myna.<span class=HB> </span>Permissions.<span class=HB> </span>Right</h2><div class=CBody><p class=CParagraph>Provides access to Right specific actions. see <a href="#Myna.Permissions" class=LClass id=link57 onMouseOver="ShowTip(event, 'tt34', 'link57')" onMouseOut="HideTip('tt34')">Myna.Permissions</a> for creation</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Myna.Permissions.Right.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.Right.get_appname" >get_appname</a></td><td class=SDescription>returns appname</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.Right.get_description" >get_description</a></td><td class=SDescription>returns description</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.Right.get_name" >get_name</a></td><td class=SDescription>returns name</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.Right.get_right_id" >get_right_id</a></td><td class=SDescription>returns right_id</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.Right.set_appname" >set_appname</a></td><td class=SDescription>sets appname</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.Right.set_description" >set_description</a></td><td class=SDescription>sets description</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.Right.set_name" >set_name</a></td><td class=SDescription>sets name</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="Myna.Permissions.Right.Functions"></a>Functions</h3></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.Right.get_appname"></a>get_appname</h3><div class=CBody><p class=CParagraph>returns appname</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.Right.get_description"></a>get_description</h3><div class=CBody><p class=CParagraph>returns description</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.Right.get_name"></a>get_name</h3><div class=CBody><p class=CParagraph>returns name</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.Right.get_right_id"></a>get_right_id</h3><div class=CBody><p class=CParagraph>returns right_id</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.Right.set_appname"></a>set_appname</h3><div class=CBody><p class=CParagraph>sets appname</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.Right.set_description"></a>set_description</h3><div class=CBody><p class=CParagraph>sets description</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.Right.set_name"></a>set_name</h3><div class=CBody><p class=CParagraph>sets name</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CClass CTopic"><h2 class=CTitle><a name="Myna.Permissions.UserGroup"></a>Myna.<span class=HB> </span>Permissions.<span class=HB> </span>UserGroup</h2><div class=CBody><p class=CParagraph>Provides access to user group specific actions.&nbsp; See <a href="#Myna.Permissions" class=LClass id=link63 onMouseOver="ShowTip(event, 'tt34', 'link63')" onMouseOut="HideTip('tt34')">Myna.Permissions</a> for creation</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Myna.Permissions.UserGroup.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.get_appname" >get_appname</a></td><td class=SDescription>returns appname</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.UserGroup.get_description" >get_description</a></td><td class=SDescription>returns description</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.get_name" >get_name</a></td><td class=SDescription>returns name</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.UserGroup.get_user_group_id" >get_user_group_id</a></td><td class=SDescription>returns user_group_id</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.set_appname" >set_appname</a></td><td class=SDescription>sets appname</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.UserGroup.set_description" >set_description</a></td><td class=SDescription>sets description</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.set_name" >set_name</a></td><td class=SDescription>sets name</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.UserGroup.addUsers" id=link58 onMouseOver="ShowTip(event, 'tt23', 'link58')" onMouseOut="HideTip('tt23')">addUsers</a></td><td class=SDescription>adds one or more users to this group, if not already added</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.addRights" id=link59 onMouseOver="ShowTip(event, 'tt24', 'link59')" onMouseOut="HideTip('tt24')">addRights</a></td><td class=SDescription>adds one or more rights to this group, if not already added</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.UserGroup.qryRights" id=link60 onMouseOver="ShowTip(event, 'tt25', 'link60')" onMouseOut="HideTip('tt25')">qryRights</a></td><td class=SDescription>returns query of rights associated with this group</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.removeRights" >removeRights</a></td><td class=SDescription>removes one or more rights from this group, if not already removed</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.Permissions.UserGroup.removeUsers" id=link61 onMouseOver="ShowTip(event, 'tt26', 'link61')" onMouseOut="HideTip('tt26')">removeUsers</a></td><td class=SDescription>removes one or more users from this group, if not already removed</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.Permissions.UserGroup.qryUsers" id=link62 onMouseOver="ShowTip(event, 'tt27', 'link62')" onMouseOut="HideTip('tt27')">qryUsers</a></td><td class=SDescription>returns a query of user information associated with this group</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.Functions"></a>Functions</h3></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.get_appname"></a>get_appname</h3><div class=CBody><p class=CParagraph>returns appname</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.get_description"></a>get_description</h3><div class=CBody><p class=CParagraph>returns description</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.get_name"></a>get_name</h3><div class=CBody><p class=CParagraph>returns name</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.get_user_group_id"></a>get_user_group_id</h3><div class=CBody><p class=CParagraph>returns user_group_id</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.set_appname"></a>set_appname</h3><div class=CBody><p class=CParagraph>sets appname</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.set_description"></a>set_description</h3><div class=CBody><p class=CParagraph>sets description</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.set_name"></a>set_name</h3><div class=CBody><p class=CParagraph>sets name</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>value</td><td class=CDLDescription>new value</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.addUsers"></a>addUsers</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.UserGroup.prototype.addUsers = function(</td><td class=PParameter nowrap>user_id_list</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>adds one or more users to this group, if not already added</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>user_id_list</td><td class=CDLDescription>array of list of user_ids of user to add</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.addRights"></a>addRights</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.UserGroup.prototype.addRights = function(</td><td class=PParameter nowrap>right_id_list</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>adds one or more rights to this group, if not already added</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>right_id_list</td><td class=CDLDescription>array or list of right_ids of rights to add</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.qryRights"></a>qryRights</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.UserGroup.prototype.qryRights = function()</td></tr></table></blockquote><p class=CParagraph>returns query of rights associated with this group</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.removeRights"></a>removeRights</h3><div class=CBody><p class=CParagraph>removes one or more rights from this group, if not already removed</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>right_id_list</td><td class=CDLDescription>array or list of right_ids of user to add</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.removeUsers"></a>removeUsers</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.UserGroup.prototype.removeUsers = function(</td><td class=PParameter nowrap>user_id_list</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>removes one or more users from this group, if not already removed</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>user_id_list</td><td class=CDLDescription>array or list of user_ids of user to add</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Permissions.UserGroup.qryUsers"></a>qryUsers</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.UserGroup.prototype.qryUsers = function()</td></tr></table></blockquote><p class=CParagraph>returns a query of user information associated with this group</p></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->






<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>addRight:function(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>adds a new right, and returns an instance of Myna.Right</div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>deleteRight:function(</td><td class=PParameter nowrap>right_id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>deletes a right</div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>addUserGroup:function(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>adds a new user group, and returns an instance of Myna.UserGroup</div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>deleteUserGroup:function(</td><td class=PParameter nowrap>user_group_id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>removes a user group</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>addUser:function(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>adds a new user, and returns an instance of Myna.Permissions.User</div></div><div class=CToolTip id="tt6"><div class=CClass>Provides access to user specific permissions. </div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>consumeAuthToken:function(</td><td class=PParameter nowrap>token</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns associated user_id or null if invalid</div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getAuthKey:function(</td><td class=PParameter nowrap>name</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>retrieves a unique authKey from the crypt_keys table for the supplied name, or creates one if the name does not exist.</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getAuthToken:function(</td><td class=PParameter nowrap>user_id,</td></tr><tr><td></td><td class=PParameter nowrap>timeout</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>creates stores and return a one-use authentication token for the supplied user_id</div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getUserById:function(</td><td class=PParameter nowrap>id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns the User object that matches the supplied id or null</div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getRightById:function(</td><td class=PParameter nowrap>id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns the right object that matches the supplied id or null</div></div><div class=CToolTip id="tt12"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getUserGroupById:function(</td><td class=PParameter nowrap>id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns the user group object that matches the supplied id or null</div></div><div class=CToolTip id="tt13"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getUserByLogin:function(</td><td class=PParameter nowrap>type,</td></tr><tr><td></td><td class=PParameter nowrap>login</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns the User object that matches the supplied login or null</div></div><div class=CToolTip id="tt14"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.User.prototype.qryRights = function()</td></tr></table></blockquote>returns query of rights associated with this group</div></div><div class=CToolTip id="tt15"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.User.prototype.inactivate = function()</td></tr></table></blockquote>inactivates this user. </div></div><div class=CToolTip id="tt16"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.User.prototype.isActive = function()</td></tr></table></blockquote>returns true if this user is active</div></div><div class=CToolTip id="tt17"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.User.prototype.reactivate = function()</td></tr></table></blockquote>reactivates this user</div></div><div class=CToolTip id="tt18"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.User.prototype.hasRight = function(</td><td class=PParameter nowrap>appname,</td></tr><tr><td></td><td class=PParameter nowrap>rightName</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns true if this user has been assigned the supplied appname and right name</div></div><div class=CToolTip id="tt19"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.User.prototype.getLogins = function()</td></tr></table></blockquote>returns an array of objects in the form of [{type,login}] of the logins associated with this user</div></div><div class=CToolTip id="tt20"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.User.prototype.getLoginList = function(</td><td class=PParameter nowrap>delimiter,</td></tr><tr><td></td><td class=PParameter nowrap>seperator</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns a list of type/login pairs in the form of &ldquo;type:login,type:login&rdquo; of the logins associated with this user</div></div><div class=CToolTip id="tt21"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.User.prototype.setLogin = function(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>adds or updates an login for this user</div></div><div class=CToolTip id="tt22"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.User.prototype.isCorrectPassword=function(</td><td class=PParameter nowrap>login,</td></tr><tr><td></td><td class=PParameter nowrap>password</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns true if the supplied user login and plaintext password match the stored password hash. </div></div><div class=CToolTip id="tt23"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.UserGroup.prototype.addUsers = function(</td><td class=PParameter nowrap>user_id_list</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>adds one or more users to this group, if not already added</div></div><div class=CToolTip id="tt24"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.UserGroup.prototype.addRights = function(</td><td class=PParameter nowrap>right_id_list</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>adds one or more rights to this group, if not already added</div></div><div class=CToolTip id="tt25"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.UserGroup.prototype.qryRights = function()</td></tr></table></blockquote>returns query of rights associated with this group</div></div><div class=CToolTip id="tt26"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Permissions.UserGroup.prototype.removeUsers = function(</td><td class=PParameter nowrap>user_id_list</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>removes one or more users from this group, if not already removed</div></div><div class=CToolTip id="tt27"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Permissions.UserGroup.prototype.qryUsers = function()</td></tr></table></blockquote>returns a query of user information associated with this group</div></div><div class=CToolTip id="tt28"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>setAuthUserId:function(</td><td class=PParameter nowrap>user_id</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>sets a cookie that contains the supplied user_id and a timestamp</div></div><div class=CToolTip id="tt29"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>getAuthUserId:function()</td></tr></table></blockquote>Returns the user_id in &ldquo;myna_auth_cookie&rdquo;, or null if there is no cookie</div></div><div class=CToolTip id="tt30"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onRequestStart:function()</td></tr></table></blockquote>Called before processing a request.</div></div><div class=CToolTip id="tt31"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>clearAuthUserId:function(</td><td class=PParameter nowrap>name</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Clears the &ldquo;myna_auth_cookie&rdquo;. </div></div><div class=CToolTip id="tt32"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>clear:function()</td></tr></table></blockquote>deletes a session.</div></div><div class=CToolTip id="tt33"><div class=CClass>A WebService meta object that can serve requests for SOAP, XML-RPC and JSON-RPC, and JSON-MYNA</div></div><div class=CToolTip id="tt34"><div class=CClass>A static class that provides access to the Myna Permissions System</div></div><!--END_ND_TOOLTIPS-->




<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>